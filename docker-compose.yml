# Content Orchestrator - Produção (VPS)
# git clone → docker compose up -d
# Opcional: cp .env.example .env para overrides
# n8n chama: http://content-orchestrator:8000 (mesma rede Docker)

services:
  content-orchestrator:
    build: .
    image: content-orchestrator:latest
    container_name: content-orchestrator
    restart: always
    environment:
      - STORAGE_TYPE=local
      - LOCAL_STORAGE_PATH=/content-downloads
      - DATA_PATH=/app/data
    volumes:
      - ./downloads:/content-downloads
      - ./data:/app/data
    ports:
      - "127.0.0.1:8000:8000"  # Acesso local apenas
    # Não definir networks aqui - será conectado manualmente à rede do n8n
    # docker network connect root_default content-orchestrator
