# ============================================
# ✅ Snippet para adicionar ao docker-compose.yml existente
# Copie e cole este serviço na seção "services:" do seu docker-compose.yml
# ============================================

  tiktok-downloader-api:
    build:
      context: ~/tiktok-downloader-api
      dockerfile: Dockerfile
    container_name: tiktok-downloader-api
    restart: always
    environment:
      - PORT=5000
      - DOWNLOAD_DIR=/app/downloads
    volumes:
      - ~/tiktok-downloader-api/downloads:/app/downloads
    ports:
      - "127.0.0.1:5000:5000"
    labels:
      - traefik.enable=true
      - traefik.http.routers.tiktok-api.rule=Host(`tiktok-api.${DOMAIN_NAME}`)
      - traefik.http.routers.tiktok-api.entrypoints=web,websecure
      - traefik.http.routers.tiktok-api.tls=true
      - traefik.http.routers.tiktok-api.tls.certresolver=mytlschallenge
      - traefik.http.services.tiktok-api.loadbalancer.server.port=5000

