# ✅ COMANDOS CORRETOS PARA VPS

# O serviço está no docker-compose.yml do ROOT, não no diretório tiktok-downloader-api
# Execute estes comandos do diretório ROOT (~)

# 1. Atualizar código
cd ~/tiktok-downloader-api
git pull origin main

# 2. Voltar para root e rebuildar usando o docker-compose.yml do root
cd ~
docker compose build tiktok-downloader-api

# 3. Parar e remover container antigo (se necessário)
docker stop tiktok-downloader-api
docker rm tiktok-downloader-api

# 4. Iniciar novo container
docker compose up -d tiktok-downloader-api

# 5. Verificar logs
docker logs -f tiktok-downloader-api

# 6. Testar
curl http://localhost:5000/health
